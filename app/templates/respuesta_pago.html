{% extends './plantillaindex.html' %}

{% block titulo %}Estado de la Transacción{% endblock %}

{% block LinkAdicional %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/respuesta _pago.css') }}">
{% endblock %}

{% block body %}
<div class="contenedor-respuesta">
    <div class="ticket-card">
        <div class="brand-stripe"></div>

        <div
            class="ticket-header {{ 'bg-success-custom' if datos.estado == 'APROBADO' else ('bg-danger-custom' if datos.estado == 'RECHAZADO' else 'bg-warning-custom') }}">

            <div class="ticket-icon">{{ datos.icono }}</div>

            <h2 style="margin:0; font-size: 24px; font-weight: bold;">{{ datos.titulo }}</h2>
            <p style="margin:5px 0 0 0; font-size: 13px; opacity: 0.9;">COMPROBANTE DIGITAL</p>
        </div>

        <div class="ticket-body">
            <div style="text-align: center; margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 15px;">
                <h4 style="color:#0d1b54; margin:0; font-weight:bold; font-size: 1.2rem;">
                    <i class="fas fa-microchip"></i> CyberShop
                </h4>
            </div>

            <div class="ticket-row">
                <span class="ticket-label">Referencia:</span>
                <span class="ticket-value">{{ datos.referencia }}</span>
            </div>

            <div class="ticket-row">
                <span class="ticket-label">ID Transacción:</span>
                <span class="ticket-value" style="font-size: 12px; font-family: monospace;">{{ datos.id if datos.id else
                    '---' }}</span>
            </div>

            <div class="ticket-row">
                <span class="ticket-label">Total Pagado:</span>
                <span class="ticket-value" style="font-size: 1.1em;">{{ datos.monto }}</span>
            </div>

            <div class="ticket-row">
                <span class="ticket-label">Fecha:</span>
                <span class="ticket-value">{{ datos.fecha }}</span>
            </div>

            {% if datos.estado != 'APROBADO' %}
            <div class="ticket-row"
                style="border-bottom: none; margin-top: 15px; background-color: #fff5f5; padding: 10px; border-radius: 5px;">
                <span class="ticket-label" style="color: #dc3545;">Motivo:</span>
                <span class="ticket-value" style="color: #dc3545;">{{ datos.mensaje }}</span>
            </div>
            {% endif %}
        </div>

        <a href="{{ url_for('public.index') }}" class="btn-cyber">
            <i class="fas fa-arrow-left"></i> Volver a la Tienda
        </a>
    </div>
</div>
{% endblock %}